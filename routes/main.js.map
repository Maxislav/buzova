{"version":3,"file":"main.js","mappings":"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","sources":["./$_lazy_route_resources|lazy|groupOptions: {}|namespace object","./src/app/app.module.ts","./src/app/components/map/map.component.ts","./src/app/components/map/map.component.html","./src/app/components/map/map.store.ts","./src/app/components/route-info/route-info.component.ts","./src/app/components/route-info/route-info.component.html","./src/app/utils/route-layer.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 8255;\nmodule.exports = webpackEmptyAsyncContext;","import { BrowserModule } from '@angular/platform-browser';\nimport { Injector, NgModule } from '@angular/core';\n\nimport { MapComponent } from './components/map/map.component';\nimport { createCustomElement } from '@angular/elements';\nimport { CommonModule } from '@angular/common';\nimport { RouteInfoComponent } from './components/route-info/route-info.component';\n\n@NgModule({\n  imports: [CommonModule, BrowserModule],\n  declarations: [\n    MapComponent,\n    RouteInfoComponent\n  ],\n  providers: [],\n})\nexport class AppModule {\n  constructor(injector: Injector) {\n    const custom = createCustomElement(MapComponent, { injector });\n    customElements.define('buzova-routes', custom);\n  }\n  ngDoBootstrap(args: any[]): any{\n\n  }\n}\n","import { AfterViewInit, Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\r\nimport * as L from 'leaflet';\r\nimport { IRoute } from '../../interface/route.interface';\r\nimport { ReplaySubject } from 'rxjs';\r\nimport { IPoint } from '../../interface/turn-point.interface';\r\nimport { MapStore } from './map.store';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'bzv-map',\r\n  templateUrl: './map.component.html',\r\n  styleUrls: ['./map.component.less'],\r\n  providers: [MapStore]\r\n})\r\nexport class MapComponent implements OnInit, AfterViewInit {\r\n  @ViewChild('map', { read: ElementRef }) map;\r\n  initialRouteList: IRoute[] = [\r\n    {\r\n      name: 'Andreevka Osovcy 100км ',\r\n      id: 1,\r\n      points: [\r\n        {\r\n          name: 'Buzove',\r\n          latLng: [50.39862, 30.06],\r\n        },\r\n        {\r\n          name: 'Andreevka',\r\n          latLng: [50.5523, 29.8280]\r\n        },\r\n        {\r\n          name: 'Osovsi',\r\n          latLng: [50.3335, 29.4717]\r\n        }\r\n      ],\r\n    },\r\n    {\r\n      name: 'Migalki Kocherov 134 km,',\r\n      id: 2,\r\n      points: [\r\n        {\r\n\r\n          name: '000Buzovakta',\r\n          latLng: [50.39862, 30.06],\r\n        },\r\n        {\r\n          name: '075Migalki',\r\n          latLng: [50.66445, 29.54695],\r\n        },\r\n        {\r\n          name: '049Kocherov',\r\n          latLng: [50.36445, 29.345],\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: 'Hluhiv Bilyi bereg 152 km',\r\n      id: 3,\r\n      points: [\r\n        {\r\n\r\n          name: 'Buzovakta',\r\n          latLng: [50.39862, 30.06],\r\n        },\r\n        {\r\n          name: 'Hluhiv',\r\n          latLng: [50.53445, 29.19917],\r\n        },\r\n        {\r\n          name: 'Bilyi Bereh',\r\n          latLng: [50.76, 29.48195],\r\n        }\r\n      ]\r\n    },\r\n\r\n    {\r\n      name: 'Nedashki2 Kocherov 202 km',\r\n      id: 4,\r\n      points: [\r\n        {\r\n\r\n          name: 'Buzovakta',\r\n          latLng: [50.39862, 30.06],\r\n        },\r\n        {\r\n          name: 'Nedashki2',\r\n          latLng:[ 50.97112, 29.29388],\r\n        },\r\n        {\r\n          name: 'Kocherov',\r\n          latLng: [50.36445, 29.345],\r\n        }\r\n      ]\r\n    },\r\n\r\n    {\r\n      name: 'Narodichi Luginy Bilyi Bereh 301 km km',\r\n      id: 5,\r\n      points: [\r\n        {\r\n\r\n          name: 'Buzovakta',\r\n          latLng: [50.39862, 30.06],\r\n        },\r\n        {\r\n          name: 'Narodichi',\r\n          latLng: [51.20138, 29.06972],\r\n        },\r\n        {\r\n          name: 'Luginy',\r\n          latLng: [51.09305, 28.41945],\r\n        }\r\n      ]\r\n    },\r\n\r\n    {\r\n      name: 'Obykhody Volodarsk Novezhyttia 302 km',\r\n      id: 6,\r\n      points: [\r\n        {\r\n\r\n          name: 'Buzovakta',\r\n          latLng: [50.39862, 30.06],\r\n        },\r\n        {\r\n          name: '164Obykhody',\r\n          latLng: [51.01612, 28.97028],\r\n        },\r\n        {\r\n          name: '133Volodarsk',\r\n          latLng: [50.6075, 28.46667],\r\n        },\r\n        {\r\n          name: '152Novezhyttia',\r\n          latLng: [50.86, 29.395],\r\n        }\r\n      ]\r\n    }\r\n  ];\r\n\r\n  @Input() set routeList(list: IRoute[]) {\r\n    this.store.updateRouteList(list);\r\n  }\r\n\r\n  constructor(public store: MapStore) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.store.updateRouteList(this.initialRouteList);\r\n\r\n    this.store.lmap$\r\n      .pipe(take(1))\r\n      .subscribe(map => {\r\n\r\n      });\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.store.mapInit(this.map.nativeElement);\r\n  }\r\n\r\n}\r\n","<div #map class=\"l-map\">\r\n\r\n</div>\r\n\r\n\r\n<bzv-route-info></bzv-route-info>\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { ComponentStore } from '@ngrx/component-store';\r\nimport { IRoute } from '../../interface/route.interface';\r\nimport * as L from 'leaflet';\r\nimport { concatMap, filter, flatMap, map, mergeMap, switchMap, take, tap, withLatestFrom } from 'rxjs/operators';\r\nimport { combineLatest, Observable, of, pipe } from 'rxjs';\r\nimport { circle, Circle, LatLng, Polygon } from 'leaflet';\r\nimport { RouteLayer } from '../../utils/route-layer';\r\n\r\n// import L from ''\r\n\r\ninterface MapState {\r\n  activeRouteId: number;\r\n  routes: IRoute[];\r\n  lmap: L.Map;\r\n  selected: number[];\r\n}\r\n\r\nconst defaultState: MapState = {\r\n  activeRouteId: -1,\r\n  routes: [],\r\n  lmap: null,\r\n  selected: []\r\n};\r\n\r\n@Injectable()\r\nexport class MapStore extends ComponentStore<MapState> {\r\n\r\n  private readonly routes: RouteLayer[] = [];\r\n\r\n  constructor() {\r\n    super(defaultState);\r\n    this.activeRouteId$\r\n      .subscribe(d => {\r\n        this.routes\r\n          .forEach(route => {\r\n            if (route.id === d) {\r\n              route.highlight();\r\n            } else {\r\n              route.deHighlight();\r\n            }\r\n          });\r\n      });\r\n\r\n    this.selected$\r\n      .subscribe(selected => {\r\n        this.routes.forEach(r => {\r\n          if (selected.includes(r.id)) {\r\n            r.draw();\r\n          }else {\r\n            r.remove();\r\n          }\r\n        });\r\n        //console.log(d);\r\n      });\r\n  }\r\n\r\n  updateRoutes = this.updater((state, routes: IRoute[]) => {\r\n    return {\r\n      ...state,\r\n      routes\r\n    };\r\n  });\r\n\r\n  readonly lmap$ = this.select(({ lmap }) => {\r\n    return lmap;\r\n  }).pipe(filter(Boolean));\r\n\r\n  readonly routes$ = this.select(({ routes }) => routes);\r\n  readonly selected$ = this.select(({ selected }) => selected);\r\n\r\n\r\n  readonly mapInit = this.updater((state, el: HTMLElement) => {\r\n    const lmap = L.map(el).setView([50.4113, 29.9358], 10);\r\n    const tileLayer = L.tileLayer('https://c.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n      attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery ©',\r\n      maxZoom: 18,\r\n      tileSize: 256\r\n    });\r\n    tileLayer.addTo(lmap);\r\n    return {\r\n      ...state,\r\n      lmap,\r\n    };\r\n  });\r\n\r\n  readonly onHoverRoute = this.updater((store, id: number) => {\r\n    return {\r\n      ...store,\r\n      activeRouteId: id\r\n    };\r\n  });\r\n\r\n  readonly setChecked = this.updater((state, params: { id: number; checked: boolean }) => {\r\n    const selected = [...state.selected];\r\n    const i = selected.indexOf(params.id);\r\n    if (params.checked) {\r\n      if (!selected.includes(params.id)) {\r\n        selected.push(params.id);\r\n      }\r\n\r\n    } else if (-1 < i) {\r\n      selected.splice(i, 1);\r\n    }\r\n\r\n    // routes.find(it => it.id === params.id).checked = params.checked;\r\n    return {\r\n      ...state,\r\n      selected\r\n    };\r\n  });\r\n\r\n  activeRouteId$ = this.select(({ activeRouteId }) => activeRouteId);\r\n\r\n\r\n  readonly updateRouteList = this.effect((routes$: Observable<IRoute[]>) => {\r\n\r\n    return combineLatest([routes$, this.lmap$])\r\n      .pipe(map(([routes, lmap]: [IRoute[], L.Map]) => {\r\n        lmap.zoomControl.setPosition('bottomright');\r\n        return routes;\r\n      }))\r\n      .pipe(tap(() => {\r\n        this.routes\r\n          .forEach(r => r.remove());\r\n      }))\r\n      .pipe(map((routes) => {\r\n        /// const _routes = [];\r\n        routes.forEach(route => {\r\n          const latLngList: LatLng[] = [];\r\n          const routeLayer: RouteLayer = new RouteLayer(route.id, route.name, this.get().lmap);\r\n          this.routes.push(routeLayer);\r\n          route.points\r\n            .forEach(p => {\r\n              latLngList.push(new LatLng(p.latLng[0], p.latLng[1]));\r\n            });\r\n          routeLayer.setLatLng(latLngList).draw();\r\n        });\r\n        routes.map(r => {\r\n          this.setChecked({ id: r.id, checked: true });\r\n        });\r\n        this.updateRoutes(routes);\r\n        return\r\n      }))\r\n      .pipe(tap(() => {\r\n\r\n\r\n      }))\r\n  });\r\n\r\n\r\n  isChecked$ = (id) => {\r\n    return this.selected$\r\n      .pipe(map((r) => {\r\n        return r.includes(id);\r\n      }));\r\n  };\r\n\r\n}\r\n","import { ChangeDetectionStrategy, Component, HostBinding, OnInit } from '@angular/core';\nimport { MapStore } from '../map/map.store';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'bzv-route-info',\n  templateUrl: './route-info.component.html',\n  styleUrls: ['./route-info.component.less'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RouteInfoComponent implements OnInit {\n  @HostBinding('class') cssClass = 'bzv-route-info';\n  routes$ = this.store.routes$;\n\n  constructor(private store: MapStore) {\n  }\n\n  ngOnInit(): void {\n\n  }\n\n  onHover(id): void {\n    this.store.onHoverRoute(id);\n  }\n\n  onValueChange(e, id: number): void {\n    console.log(e.target.checked);\n    this.store.setChecked({\n      id,\n      checked: e.target.checked\n    });\n\n  }\n\n  isChecked(id: number): Observable<boolean> {\n    return this.store.isChecked$(id);\n  }\n\n}\n","<div>\r\n  <ul>\r\n    <li *ngFor=\"let item of routes$ | async; let i = index\" (mouseover)=\"onHover(item.id)\">\r\n       {{i+1}} {{item.name }}  <input type=\"checkbox\" [checked]=\"isChecked(item.id) | async\" (change)=\"onValueChange($event, item.id)\">\r\n    </li>\r\n  </ul>\r\n</div>\r\n","import * as L from 'leaflet';\r\nimport { Circle, LatLng, Polygon } from 'leaflet';\r\n\r\nexport class RouteLayer {\r\n\r\n  private circles: Circle[] = [];\r\n  private polygon: Polygon;\r\n  private latLng: LatLng[];\r\n  public isShown = false;\r\n\r\n\r\n  constructor(public id: number, public name: string, private lmap: L.Map) {\r\n\r\n  }\r\n\r\n  public setLatLng(latLng: LatLng[]): RouteLayer {\r\n    this.remove();\r\n    this.circles.length = 0\r\n    this.latLng = latLng;\r\n    this.setCircles();\r\n    this.setPolygon();\r\n    return this;\r\n  }\r\n\r\n\r\n  public draw(): RouteLayer {\r\n    if (this.isShown) {\r\n      return this;\r\n    }\r\n    this.polygon.addTo(this.lmap);\r\n    this.circles.forEach(c => {\r\n      c.addTo(this.lmap);\r\n    });\r\n    this.isShown = true;\r\n    return this;\r\n  }\r\n\r\n  public highlight(): void {\r\n    this.polygon.setStyle({\r\n      opacity: 1,\r\n    });\r\n    const latMin = Math.min(...this.latLng.map(ll => ll.lat));\r\n    const latMax = Math.max(...this.latLng.map(ll => ll.lat));\r\n    const lngMax = Math.max(...this.latLng.map(ll => ll.lng));\r\n    const lngMin = Math.min(...this.latLng.map(ll => ll.lng));\r\n    const b = L.latLngBounds([\r\n      [latMin, lngMin],\r\n      [latMax, lngMax]\r\n    ]);\r\n    this.lmap.fitBounds(b);\r\n  }\r\n\r\n  public deHighlight(): void {\r\n    this.polygon.setStyle({\r\n      opacity: 0.2,\r\n    });\r\n  }\r\n\r\n\r\n  public remove(): RouteLayer {\r\n    if (!this.isShown) {\r\n      return this;\r\n    }\r\n    this.circles.forEach(c => {\r\n      this.lmap.removeLayer(c);\r\n    });\r\n    if (this.polygon) {\r\n      this.lmap.removeLayer(this.polygon);\r\n    }\r\n    this.isShown = false;\r\n    return this;\r\n  }\r\n\r\n  private setCircles(): RouteLayer {\r\n    this.latLng.forEach(_latLng => {\r\n      this.circles.push(this.getCircle(_latLng));\r\n    });\r\n    return this;\r\n  }\r\n\r\n\r\n  private setPolygon(): RouteLayer {\r\n    this.polygon = L.polygon([\r\n      ...this.latLng\r\n    ], {\r\n      color: 'red',\r\n      opacity: 0.2,\r\n      fillColor: '#f03',\r\n      fillOpacity: 0.02,\r\n    });\r\n    return this;\r\n  }\r\n\r\n  private getCircle(latLng): Circle {\r\n    return L.circle(latLng, {\r\n      color: 'red',\r\n      fillColor: '#f03',\r\n      fillOpacity: 0.2,\r\n      radius: 1000\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":[],"sourceRoot":"webpack:///"}